<!-- Timeline CSS -->
<link href="/css/timeline.css" rel="stylesheet">
<!-- Morris Charts CSS -->
<link href="/css/morrisjs/morris.css" rel="stylesheet">
<div id="page-wrapper">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">系统信息</h1></div>
    <!-- /.col-lg-12 --></div>
  <!-- /.row -->
  <div class="row">
    <div class="col-lg-3 col-md-6">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <div class="row">
            <div class="col-xs-3">
              <i class="fa fa-comments fa-5x"></i>
            </div>
            <div class="col-xs-9 text-right">
              <div class="huge">{{.postnum}}</div>
              <div>文章数量!</div></div>
          </div>
        </div>
        <a href="#">
          <div class="panel-footer">
            <span class="pull-left">查看详情</span>
            <span class="pull-right">
              <i class="fa fa-arrow-circle-right"></i>
            </span>
            <div class="clearfix"></div>
          </div>
        </a>
      </div>
    </div>
    <div class="col-lg-3 col-md-6">
      <div class="panel panel-green">
        <div class="panel-heading">
          <div class="row">
            <div class="col-xs-3">
              <i class="fa fa-tasks fa-5x"></i>
            </div>
            <div class="col-xs-9 text-right">
              <div class="huge">{{.usernum}}</div>
              <div>用户数量!</div></div>
          </div>
        </div>
        <a href="#">
          <div class="panel-footer">
            <span class="pull-left">查看详情</span>
            <span class="pull-right">
              <i class="fa fa-arrow-circle-right"></i>
            </span>
            <div class="clearfix"></div>
          </div>
        </a>
      </div>
    </div>
    <div class="col-lg-3 col-md-6">
      <div class="panel panel-red">
        <div class="panel-heading">
          <div class="row">
            <div class="col-xs-3">
              <i class="fa fa-support fa-5x"></i>
            </div>
            <div class="col-xs-9 text-right">
              <div class="huge">{{.tagnum}}</div>
              <div>标签数量!</div></div>
          </div>
        </div>
        <a href="#">
          <div class="panel-footer">
            <span class="pull-left">查看详情</span>
            <span class="pull-right">
              <i class="fa fa-arrow-circle-right"></i>
            </span>
            <div class="clearfix"></div>
          </div>
        </a>
      </div>
    </div>
    <div class="col-lg-3 col-md-6">
      <div class="panel panel-yellow">
        <div class="panel-heading">
          <div class="row">
            <div class="col-xs-3">
              <i class="fa fa-shopping-cart fa-5x"></i>
            </div>
            <div class="col-xs-9 text-right">
              <div class="huge">CPU数量 {{.cpunum}}</div>
              <div>主机名称:{{.hostname}} Go语言版本:{{.gover}}  操作系统:{{.os}}({{.arch}})</div></div>
          </div>
        </div>
        <a href="#">
          <div class="panel-footer">
            <span class="pull-left">查看详情</span>
            <span class="pull-right">
              <i class="fa fa-arrow-circle-right"></i>
            </span>
            <div class="clearfix"></div>
          </div>
        </a>
      </div>
    </div>
  </div>
  <!-- /.row -->
  <div class="row">
    <div class="col-lg-8">
      <div class="panel panel-default">
        <div class="panel-heading">
          <i class="fa fa-bar-chart-o fa-fw"></i>统计数据 - 非实时数据，每天汇总一次
          <div class="pull-right">
            <div class="btn-group">
              <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">Actions
                <span class="caret"></span></button>
              <ul class="dropdown-menu pull-right" role="menu">
                <li>
                  <a href="#">Action</a></li>
                <li>
                  <a href="#">Another action</a></li>
                <li>
                  <a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li>
                  <a href="#">Separated link</a></li>
              </ul>
            </div>
          </div>
        </div>
        <!-- /.panel-heading -->
        <div class="panel-body">
          <div id="morris-area-chart"></div>
        </div>
        <!-- /.panel-body --></div>
      <!-- /.panel -->
      <div class="panel panel-default">
        <div class="panel-heading">
          <i class="fa fa-bar-chart-o fa-fw"></i>Bar Chart Example
          <div class="pull-right">
            <div class="btn-group">
              <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">Actions
                <span class="caret"></span></button>
              <ul class="dropdown-menu pull-right" role="menu">
                <li>
                  <a href="#">Action</a></li>
                <li>
                  <a href="#">Another action</a></li>
                <li>
                  <a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li>
                  <a href="#">Separated link</a></li>
              </ul>
            </div>
          </div>
        </div>
        <!-- /.panel-heading -->
        <div class="panel-body">
          <div class="row">
            <div class="col-lg-4">
              <div class="table-responsive">
                <table class="table table-bordered table-hover table-striped">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Date</th>
                      <th>Time</th>
                      <th>Amount</th></tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>3326</td>
                      <td>10/21/2013</td>
                      <td>3:29 PM</td>
                      <td>$321.33</td></tr>
                    <tr>
                      <td>3325</td>
                      <td>10/21/2013</td>
                      <td>3:20 PM</td>
                      <td>$234.34</td></tr>
                    <tr>
                      <td>3324</td>
                      <td>10/21/2013</td>
                      <td>3:03 PM</td>
                      <td>$724.17</td></tr>
                    <tr>
                      <td>3323</td>
                      <td>10/21/2013</td>
                      <td>3:00 PM</td>
                      <td>$23.71</td></tr>
                    <tr>
                      <td>3322</td>
                      <td>10/21/2013</td>
                      <td>2:49 PM</td>
                      <td>$8345.23</td></tr>
                    <tr>
                      <td>3321</td>
                      <td>10/21/2013</td>
                      <td>2:23 PM</td>
                      <td>$245.12</td></tr>
                    <tr>
                      <td>3320</td>
                      <td>10/21/2013</td>
                      <td>2:15 PM</td>
                      <td>$5663.54</td></tr>
                    <tr>
                      <td>3319</td>
                      <td>10/21/2013</td>
                      <td>2:13 PM</td>
                      <td>$943.45</td></tr>
                  </tbody>
                </table>
              </div>
              <!-- /.table-responsive --></div>
            <!-- /.col-lg-4 (nested) -->
            <div class="col-lg-8">
              <div id="morris-bar-chart"></div>
            </div>
            <!-- /.col-lg-8 (nested) --></div>
          <!-- /.row --></div>
        <!-- /.panel-body --></div>
      <!-- /.panel -->

      <!-- /.panel --></div>
    <!-- /.col-lg-8 -->
    <div class="col-lg-4">
      <div class="panel panel-default">
        <div class="panel-heading">
          <i class="fa fa-bar-chart-o fa-fw"></i>标签统计</div>
        <div class="panel-body">
          <div id="morris-donut-chart"></div>
          <a href="#" class="btn btn-default btn-block">查看详情</a></div>
        <!-- /.panel-body --></div>
      <!-- /.panel -->
      <div class="chat-panel panel panel-default">
        <div class="panel-heading">
          <i class="fa fa-comments fa-fw"></i>聊天
          <div class="btn-group pull-right">
            <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
              <i class="fa fa-chevron-down"></i></button>
            <ul class="dropdown-menu slidedown">
              <li>
                <a href="#">
                  <i class="fa fa-refresh fa-fw"></i>Refresh</a>
              </li>
              <li>
                <a href="#">
                  <i class="fa fa-check-circle fa-fw"></i>Available</a>
              </li>
              <li>
                <a href="#">
                  <i class="fa fa-times fa-fw"></i>Busy</a>
              </li>
              <li>
                <a href="#">
                  <i class="fa fa-clock-o fa-fw"></i>Away</a>
              </li>
              <li class="divider"></li>
              <li>
                <a href="#">
                  <i class="fa fa-sign-out fa-fw"></i>Sign Out</a>
              </li>
            </ul>
          </div>
        </div>
        <!-- /.panel-heading -->
        <div class="panel-body">
          <ul class="chat">
            <li class="left clearfix">
              <span class="chat-img pull-left">
                <img src="http://placehold.it/50/55C1E7/fff" alt="User Avatar" class="img-circle" /></span>
              <div class="chat-body clearfix">
                <div class="header">
                  <strong class="primary-font">Liberalman</strong>
                  <small class="pull-right text-muted">
                    <i class="fa fa-clock-o fa-fw"></i>12 mins ago</small>
                </div>
                <p>To reset increment colum to 5, we should use </br>'<font color=red>alter table libertyblog.tb_user auto_increment=5;</font>'.</p>
              </div>
            </li>
            <li class="right clearfix">
              <span class="chat-img pull-right">
                <img src="http://placehold.it/50/FA6F57/fff" alt="User Avatar" class="img-circle" /></span>
              <div class="chat-body clearfix">
                <div class="header">
                  <small class=" text-muted">
                    <i class="fa fa-clock-o fa-fw"></i>13 mins ago</small>
                  <strong class="pull-right primary-font">Bhaumik Patel</strong></div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p>
              </div>
            </li>
            <li class="left clearfix">
              <span class="chat-img pull-left">
                <img src="http://placehold.it/50/55C1E7/fff" alt="User Avatar" class="img-circle" /></span>
              <div class="chat-body clearfix">
                <div class="header">
                  <strong class="primary-font">Jack Sparrow</strong>
                  <small class="pull-right text-muted">
                    <i class="fa fa-clock-o fa-fw"></i>14 mins ago</small>
                </div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p>
              </div>
            </li>
            <li class="right clearfix">
              <span class="chat-img pull-right">
                <img src="http://placehold.it/50/FA6F57/fff" alt="User Avatar" class="img-circle" /></span>
              <div class="chat-body clearfix">
                <div class="header">
                  <small class=" text-muted">
                    <i class="fa fa-clock-o fa-fw"></i>15 mins ago</small>
                  <strong class="pull-right primary-font">Bhaumik Patel</strong></div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p>
              </div>
            </li>
          </ul>
        </div>
        <!-- /.panel-body -->
        <div class="panel-footer">
          <div class="input-group">
            <input id="btn-input" type="text" class="form-control input-sm" placeholder="Type your message here..." />
            <span class="input-group-btn">
              <button class="btn btn-warning btn-sm" id="btn-chat">Send</button></span>
          </div>
        </div>
        <!-- /.panel-footer --></div>
      <!-- /.panel .chat-panel --></div>
    <!-- /.col-lg-4 --></div>
  <!-- /.row --></div>
<!-- /#page-wrapper --></div>
<!-- /#wrapper -->
<!-- Morris Charts JavaScript -->
<script src="/js/raphael/raphael-min.js"></script>
<script src="/js/morrisjs/morris.min.js"></script>
<!-- <script src="/js/morris-data.js"></script> -->
<script>

$(function() {

    Morris.Area({
        element: 'morris-area-chart',
        data: [
        {{range $k, $v := .statistics}}
        {
            period: '{{date $v.Create_time "Y-m-j"}}',
            user_count: {{$v.User_count}},
            post_count: {{$v.Post_count}},
            tag_count: {{$v.Tag_count}},
            dau: {{$v.Dau}}
        },
        {{end}}
        ],
        xkey: 'period',
        ykeys: ['user_count', 'tag_count', 'dau', 'post_count'],
        labels: ['用户数量', '标签数量', '日活跃数', '文章数量'],
        pointSize: 2,
        hideHover: 'auto',
        resize: true
    });
    
    // Morris
		//var obj = JSON.parse('{{(index .statistics 0).Tags}}');  //由JSON字符串转换为JSON对象
		//console.info(obj);
		
    Morris.Donut({
        element: 'morris-donut-chart',
        data: [
        {{range $k, $v := .tag_list}}
        {
        	label: {{$v.Name}},
        	value: {{$v.Count}}
        },
        {{end}}
        ],
        resize: true
    });

    Morris.Bar({
        element: 'morris-bar-chart',
        data: [{
            y: '2006',
            a: 100,
            b: 90
        }, {
            y: '2007',
            a: 75,
            b: 65
        }, {
            y: '2008',
            a: 50,
            b: 40
        }, {
            y: '2009',
            a: 75,
            b: 65
        }, {
            y: '2010',
            a: 50,
            b: 40
        }, {
            y: '2011',
            a: 75,
            b: 65
        }, {
            y: '2012',
            a: 100,
            b: 90
        }],
        xkey: 'y',
        ykeys: ['a', 'b'],
        labels: ['Series A', 'Series B'],
        hideHover: 'auto',
        resize: true
    });
    
});
</script>