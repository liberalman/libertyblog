<link href="https://cdn.bootcss.com/datatables/1.10.15/css/dataTables.bootstrap.min.css" rel="stylesheet">
<link href="/css/responsive.dataTables.min.css" rel="stylesheet">
<div id="page-wrapper">
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">文章列表</h1></div>
		<!-- /.col-lg-12 -->
	</div>
	<!-- /.row -->
	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-default">
				<div class="panel-heading">管理我的文章</div>
				<!-- /.panel-heading -->
				<div class="panel-body">
					<div class="dataTable_wrapper">
						<table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
							<thead>
								<tr>
									<th>
										<input type="checkbox" name="all" value="0" onclick="checkall('ids[]', this)" /></th>
									<th>文章ID</th>
									<th>标题</th>
									<th>类别</th>
									<th>点击量</th>
									<th>喜欢</th>
									<th>发布人</th>
									<th>发布时间</th>
									<th>最近修改</th>
									<th>编辑|删除</th>
								</tr>
							</thead>
							<tbody>{{range $k, $v := .list}}
								<tr class="gradeA">
									<td>
										<input type="checkbox" name="ids[]" value="{{$v.Id}}" /></td>
									<td>{{$v.Id}}</td>
									<td class="hl_title">{{if $v.Istop}}
										<i class="icon-arrow-up" title="置顶"></i>{{end}}
										<a href="{{$v.Link}}" target="_blank">{{$v.Title}}</a>{{if $v.Urltype}}
										<span class="label label-important">页面</span>{{end}}</td>
									<td class="hl_tag">{{str2html $v.TagsLink}}</td>
									<td>{{$v.Views}}</td>
									<td>0</td>
									<td class="hl_author">{{$v.Username}}</td>
									<td class="center">{{date $v.Posttime "Y-m-d H:i:s"}}</td>
									<td class="center">{{date $v.Updated "Y-m-d H:i:s"}}</td>
									<td>
										<a href="#" onclick="edit_article({{$v.Id}})"><i class="fa fa-edit fa-fw"></i></a> |
										<a href="/admin/article/delete?id={{$v.Id}}" onclick="return del_confirm()">删除</a></td>
										
									<!-- <a href="/article/edit1?id={{$v.Id}}" data-toggle="modal" data-target="#myModal" onclick="edit({{$v.Id}})">编辑1</a> -->
								</tr>{{end}}</tbody>
							<tfoot>
								<tr>
									<td colspan="21">{{str2html .pagebar}}</td>
								</tr>
								<tr>
									<td width="30">
										<input type="checkbox" name="all" value="0" onclick="checkall('ids[]', this)" /></td>
									<td>
										<select name="op" id="op" class="form-control input-sm">
                      					<option value="">批量操作</option>
                      					<option value="topub">移至已发布</option>
                      					<option value="todrafts">移至草稿箱</option>
                      					<option value="totrash">移至回收站</option>
                      					<option value="delete">删除</option></select>
									<td colspan="20">
										<button type="submit" class="btn btn-default">应用</button></td>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>
					<!-- /.table-responsive -->
				</div>
				<!-- /.panel-body -->
			</div>
			<!-- /.panel -->
		</div>
		<!-- /.col-lg-12 -->
	</div>
	<!-- /.row -->
</div>
<!-- /#page-wrapper -->

<script src="https://cdn.bootcss.com/datatables/1.10.15/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.bootcss.com/datatables/1.10.15/js/dataTables.bootstrap.min.js"></script>
<script src="/js/dataTables.responsive.min.js"></script>
<script src="/js/common.js"></script>
<!-- Page-Level Demo Scripts - Tables - Use for reference -->
<script>
	$(document).ready(function() {
		/* 以下代码不能用，否则会报Cannot set property 'nTf' 的错误，
		因为我tfoot中的colspan="20"横跨了多个td，不满足DataTable对于th和td强一致的要求。  */
		/*$('#dataTables-example').DataTable({
			responsive: true
		});*/
	});
</script>